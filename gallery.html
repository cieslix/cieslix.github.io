---
layout: page
title: Gallery
permalink: /gallery/
---
<div id="container"></div>
<script>
    $(document).ready(function () {
        setTimeout(Cieslix.execute, 1000);
    });
    var Cieslix = Cieslix || {};

    Cieslix.makeHtml = function (item, $parent) {
        console.log(item);
        var $li = $('<div class="item"/>');
        var $img = $('<img />', { src: item.picture, alt: item.id});
        var $a = $('<a />', { href: item.link, text: item.story ? item.story : item.message });
        var $span = $('<span />', {text: item.created_time});
        $li.prepend($span).prepend($img).append($a);
        $parent.append($li);
    }

    Cieslix.execute = function () {
        FB.api(
                "/{{ site.facebook_page_id }}/feed",
                function (response) {
                    if (response && !response.error) {
                        /* handle the result */
//                        console.log(response);
                        $(response.data).each(function () {
                            Cieslix.makeHtml(this, $('#container'));
                        });

                        new Masonry('#container', {
                            // options
                            columnWidth: 200,
                            itemSelector: '.item'
                        });
                    }
                }
        );
    };
</script>
